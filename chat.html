<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2566">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #4689cc; -webkit-text-stroke: #4689cc}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #8cd3fe; -webkit-text-stroke: #8cd3fe}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #c27e65; -webkit-text-stroke: #c27e65}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #ffffff; -webkit-text-stroke: #ffffff}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #cdad6a; -webkit-text-stroke: #cdad6a}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #ffffff; -webkit-text-stroke: #ffffff; min-height: 14.0px}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #6a9855; -webkit-text-stroke: #6a9855}
    p.p9 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Menlo; color: #d4d69a; -webkit-text-stroke: #d4d69a}
    span.s1 {font-kerning: none; color: #6d6d6d; background-color: #000000; -webkit-text-stroke: 0px #6d6d6d}
    span.s2 {font-kerning: none; background-color: #000000}
    span.s3 {font-kerning: none; color: #ffffff; background-color: #000000; -webkit-text-stroke: 0px #ffffff}
    span.s4 {font-kerning: none; color: #8cd3fe; background-color: #000000; -webkit-text-stroke: 0px #8cd3fe}
    span.s5 {font-kerning: none; color: #c27e65; background-color: #000000; -webkit-text-stroke: 0px #c27e65}
    span.s6 {font-kerning: none; color: #4689cc; background-color: #000000; -webkit-text-stroke: 0px #4689cc}
    span.s7 {font-kerning: none; color: #cdad6a; background-color: #000000; -webkit-text-stroke: 0px #cdad6a}
    span.s8 {font-kerning: none; color: #cacaca; background-color: #000000; -webkit-text-stroke: 0px #cacaca}
    span.s9 {font-kerning: none; color: #a7c598; background-color: #000000; -webkit-text-stroke: 0px #a7c598}
    span.s10 {font-kerning: none; color: #d4d69a; background-color: #000000; -webkit-text-stroke: 0px #d4d69a}
    span.s11 {font-kerning: none}
    span.s12 {font-kerning: none; color: #c45356; background-color: #000000; -webkit-text-stroke: 0px #c45356}
    span.s13 {font-kerning: none; color: #b76fb3; background-color: #000000; -webkit-text-stroke: 0px #b76fb3}
    span.s14 {font-kerning: none; color: #6a9855; background-color: #000000; -webkit-text-stroke: 0px #6a9855}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!</span><span class="s2">DOCTYPE</span><span class="s3"> </span><span class="s4">html</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s1">&lt;</span><span class="s2">html</span><span class="s3"> </span><span class="s4">lang</span><span class="s3">=</span><span class="s5">"en"</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s1">&lt;</span><span class="s2">head</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;</span><span class="s6">meta</span><span class="s3"> </span><span class="s2">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s1">&gt;</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;</span><span class="s6">meta</span><span class="s3"> </span><span class="s4">name</span><span class="s3">=</span><span class="s2">"viewport"</span><span class="s3"> </span><span class="s4">content</span><span class="s3">=</span><span class="s2">"width=device-width, initial-scale=1.0"</span><span class="s1">&gt;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;</span><span class="s6">title</span><span class="s1">&gt;</span><span class="s2">Chat with Llama</span><span class="s1">&lt;/</span><span class="s6">title</span><span class="s1">&gt;</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;</span><span class="s6">link</span><span class="s3"> </span><span class="s4">rel</span><span class="s3">=</span><span class="s2">"stylesheet"</span><span class="s3"> </span><span class="s4">href</span><span class="s3">=</span><span class="s2">"https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"</span><span class="s1">&gt;</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;</span><span class="s6">link</span><span class="s3"> </span><span class="s4">rel</span><span class="s3">=</span><span class="s2">"stylesheet"</span><span class="s3"> </span><span class="s4">href</span><span class="s3">=</span><span class="s2">"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"</span><span class="s1">&gt;</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;</span><span class="s6">link</span><span class="s3"> </span><span class="s4">rel</span><span class="s3">=</span><span class="s2">"stylesheet"</span><span class="s3"> </span><span class="s4">href</span><span class="s3">=</span><span class="s2">"https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;</span><span class="s2">style</span><span class="s1">&gt;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s7">body</span><span class="s2"> {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">font-family</span><span class="s2">: </span><span class="s5">Arial</span><span class="s2">, </span><span class="s5">sans-serif</span><span class="s2">;</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">            </span></span><span class="s2">background-color</span><span class="s3">: </span><span class="s5">#f8f9fa</span><span class="s3">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s2">#chat-container</span><span class="s3"> {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">max-width</span><span class="s2">: </span><span class="s9">1000px</span><span class="s2">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">margin</span><span class="s2">: </span><span class="s9">50px</span><span class="s2"> </span><span class="s5">auto</span><span class="s2">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">border</span><span class="s2">: </span><span class="s9">1px</span><span class="s2"> </span><span class="s5">solid</span><span class="s2"> </span><span class="s5">#ccc</span><span class="s2">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">border-radius</span><span class="s2">: </span><span class="s9">10px</span><span class="s2">;</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">            </span></span><span class="s2">background-color</span><span class="s3">: </span><span class="s5">#ffffff</span><span class="s3">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">box-shadow</span><span class="s2">: </span><span class="s9">0</span><span class="s2"> </span><span class="s9">0</span><span class="s2"> </span><span class="s9">10px</span><span class="s2"> </span><span class="s10">rgba</span><span class="s2">(</span><span class="s9">0</span><span class="s2">, </span><span class="s9">0</span><span class="s2">, </span><span class="s9">0</span><span class="s2">, </span><span class="s9">0.1</span><span class="s2">);</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">padding</span><span class="s2">: </span><span class="s9">20px</span><span class="s2">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s7">#chat-box</span><span class="s2"> {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">height</span><span class="s2">: </span><span class="s9">600px</span><span class="s2">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">overflow-y</span><span class="s2">: </span><span class="s5">scroll</span><span class="s2">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">padding</span><span class="s2">: </span><span class="s9">10px</span><span class="s2">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">border</span><span class="s2">: </span><span class="s9">1px</span><span class="s2"> </span><span class="s5">solid</span><span class="s2"> </span><span class="s5">#ddd</span><span class="s2">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">border-radius</span><span class="s2">: </span><span class="s9">5px</span><span class="s2">;</span></p>
<p class="p5"><span class="s3"><span class="Apple-converted-space">            </span></span><span class="s2">background-color</span><span class="s3">: </span><span class="s5">#f8f9fa</span><span class="s3">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s2">.chat-message</span><span class="s3"> {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">margin-bottom</span><span class="s2">: </span><span class="s9">15px</span><span class="s2">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s2">.chat-message</span><span class="s3"> </span><span class="s2">.user</span><span class="s3"> {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">font-weight</span><span class="s2">: </span><span class="s5">bold</span><span class="s2">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">color</span><span class="s2">: </span><span class="s5">#007bff</span><span class="s2">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s2">.chat-message</span><span class="s3"> </span><span class="s2">.bot</span><span class="s3"> {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">font-weight</span><span class="s2">: </span><span class="s5">bold</span><span class="s2">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">color</span><span class="s2">: </span><span class="s5">#28a745</span><span class="s2">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p6"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s2">.typing-indicator</span><span class="s3"> {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">display</span><span class="s2">: </span><span class="s5">none</span><span class="s2">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">color</span><span class="s2">: </span><span class="s5">#6c757d</span><span class="s2">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s8">font-style</span><span class="s2">: </span><span class="s5">italic</span><span class="s2">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p1"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;/</span><span class="s2">style</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s1">&lt;/</span><span class="s2">head</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s1">&lt;</span><span class="s2">body</span><span class="s1">&gt;</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;</span><span class="s6">div</span><span class="s3"> </span><span class="s4">id</span><span class="s3">=</span><span class="s2">"chat-container"</span><span class="s3"> </span><span class="s4">class</span><span class="s3">=</span><span class="s2">"container"</span><span class="s1">&gt;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;</span><span class="s6">h2</span><span class="s2"> </span><span class="s4">class</span><span class="s2">=</span><span class="s5">"text-center"</span><span class="s1">&gt;</span><span class="s2">Chat with Llama</span><span class="s1">&lt;/</span><span class="s6">h2</span><span class="s1">&gt;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;</span><span class="s6">div</span><span class="s2"> </span><span class="s4">id</span><span class="s2">=</span><span class="s5">"chat-box"</span><span class="s1">&gt;&lt;/</span><span class="s6">div</span><span class="s1">&gt;</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;</span><span class="s6">div</span><span class="s3"> </span><span class="s4">id</span><span class="s3">=</span><span class="s2">"upload-container"</span><span class="s3"> </span><span class="s4">class</span><span class="s3">=</span><span class="s2">"my-3"</span><span class="s1">&gt;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;</span><span class="s6">label</span><span class="s2"> </span><span class="s4">for</span><span class="s2">=</span><span class="s5">"pdf-upload"</span><span class="s1">&gt;</span><span class="s2">Upload PDF:</span><span class="s1">&lt;/</span><span class="s6">label</span><span class="s1">&gt;</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;</span><span class="s6">input</span><span class="s3"> </span><span class="s4">type</span><span class="s3">=</span><span class="s2">"file"</span><span class="s3"> </span><span class="s4">id</span><span class="s3">=</span><span class="s2">"pdf-upload"</span><span class="s3"> </span><span class="s4">accept</span><span class="s3">=</span><span class="s2">"application/pdf"</span><span class="s1">&gt;</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;</span><span class="s6">button</span><span class="s3"> </span><span class="s4">id</span><span class="s3">=</span><span class="s2">"upload-btn"</span><span class="s3"> </span><span class="s4">class</span><span class="s3">=</span><span class="s2">"btn btn-primary btn-sm ml-2"</span><span class="s1">&gt;</span><span class="s3">Upload</span><span class="s1">&lt;/</span><span class="s6">button</span><span class="s1">&gt;</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;</span><span class="s6">button</span><span class="s3"> </span><span class="s4">id</span><span class="s3">=</span><span class="s2">"remove-btn"</span><span class="s3"> </span><span class="s4">class</span><span class="s3">=</span><span class="s2">"btn btn-danger btn-sm ml-2"</span><span class="s1">&gt;</span><span class="s3">Remove</span><span class="s1">&lt;/</span><span class="s6">button</span><span class="s1">&gt;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;/</span><span class="s6">div</span><span class="s1">&gt;</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;</span><span class="s6">button</span><span class="s3"> </span><span class="s4">id</span><span class="s3">=</span><span class="s2">"clear-chat-btn"</span><span class="s3"> </span><span class="s4">class</span><span class="s3">=</span><span class="s2">"btn btn-warning btn-sm ml-2"</span><span class="s1">&gt;</span><span class="s3">Clear Chat</span><span class="s1">&lt;/</span><span class="s6">button</span><span class="s1">&gt;</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;</span><span class="s6">div</span><span class="s3"> </span><span class="s4">id</span><span class="s3">=</span><span class="s2">"typing-indicator"</span><span class="s3"> </span><span class="s4">class</span><span class="s3">=</span><span class="s2">"typing-indicator"</span><span class="s1">&gt;</span><span class="s3">Llama is typing...</span><span class="s1">&lt;/</span><span class="s6">div</span><span class="s1">&gt;</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;</span><span class="s6">div</span><span class="s3"> </span><span class="s4">class</span><span class="s3">=</span><span class="s2">"input-group mt-3"</span><span class="s1">&gt;</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;</span><span class="s6">input</span><span class="s3"> </span><span class="s4">type</span><span class="s3">=</span><span class="s2">"text"</span><span class="s3"> </span><span class="s4">id</span><span class="s3">=</span><span class="s2">"user-input"</span><span class="s3"> </span><span class="s4">class</span><span class="s3">=</span><span class="s2">"form-control"</span><span class="s3"> </span><span class="s4">placeholder</span><span class="s3">=</span><span class="s2">"Type your message..."</span><span class="s1">&gt;</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;</span><span class="s6">div</span><span class="s3"> </span><span class="s4">class</span><span class="s3">=</span><span class="s2">"input-group-append"</span><span class="s1">&gt;</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">                </span></span><span class="s1">&lt;</span><span class="s6">button</span><span class="s3"> </span><span class="s4">id</span><span class="s3">=</span><span class="s2">"send-btn"</span><span class="s3"> </span><span class="s4">class</span><span class="s3">=</span><span class="s2">"btn btn-primary"</span><span class="s1">&gt;</span><span class="s3">Send</span><span class="s1">&lt;/</span><span class="s6">button</span><span class="s1">&gt;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s1">&lt;/</span><span class="s6">div</span><span class="s1">&gt;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;/</span><span class="s6">div</span><span class="s1">&gt;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;/</span><span class="s6">div</span><span class="s1">&gt;</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;</span><span class="s6">script</span><span class="s3"> </span><span class="s4">src</span><span class="s3">=</span><span class="s2">"https://code.jquery.com/jquery-3.5.1.min.js"</span><span class="s1">&gt;&lt;/</span><span class="s6">script</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;</span><span class="s2">script</span><span class="s1">&gt;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">        </span></span><span class="s10">$</span><span class="s2">(</span><span class="s4">document</span><span class="s2">).</span><span class="s10">ready</span><span class="s2">(</span><span class="s6">function</span><span class="s2"> () {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s6">let</span><span class="s2"> </span><span class="s4">chatHistory</span><span class="s2"> </span><span class="s8">=</span><span class="s2"> [];</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s6">function</span><span class="s2"> </span><span class="s10">appendMessage</span><span class="s2">(</span><span class="s4">sender</span><span class="s2">, </span><span class="s4">message</span><span class="s2">) {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span></span><span class="s6">const</span><span class="s2"> </span><span class="s4">senderClass</span><span class="s2"> </span><span class="s8">=</span><span class="s2"> </span><span class="s4">sender</span><span class="s2"> </span><span class="s8">===</span><span class="s2"> </span><span class="s5">'user'</span><span class="s2"> </span><span class="s8">?</span><span class="s2"> </span><span class="s5">'user'</span><span class="s2"> </span><span class="s8">:</span><span class="s2"> </span><span class="s5">'bot'</span><span class="s2">;</span></p>
<p class="p8"><span class="s3"><span class="Apple-converted-space">                </span></span><span class="s2">//const messageHtml = `&lt;div class="chat-message"&gt;&lt;span class="${senderClass}"&gt;${sender}:&lt;/span&gt; &lt;pre class="message-content"&gt;&lt;code&gt;${message}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;`;</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">                </span></span><span class="s6">const</span><span class="s3"> </span><span class="s4">messageHtml</span><span class="s3"> </span><span class="s8">=</span><span class="s3"> </span><span class="s2">`&lt;div class="chat-message"&gt;&lt;span class="</span><span class="s6">${</span><span class="s4">senderClass</span><span class="s6">}</span><span class="s2">"&gt;</span><span class="s6">${</span><span class="s4">sender</span><span class="s6">}</span><span class="s2">:&lt;/span&gt; &lt;pre class="message-content"&gt;&lt;code&gt;</span><span class="s6">${</span><span class="s4">message</span><span class="s3">.</span><span class="s10">replace</span><span class="s3">(</span><span class="s12">/\n/</span><span class="s6">g</span><span class="s3">, </span><span class="s2">'&lt;br&gt;'</span><span class="s3">).</span><span class="s10">replace</span><span class="s3">(</span><span class="s12">/ /</span><span class="s6">g</span><span class="s3">, </span><span class="s2">'&amp;nbsp;'</span><span class="s3">)</span><span class="s6">}</span><span class="s2">&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;`</span><span class="s3">;</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span></span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#chat-box'</span><span class="s2">).</span><span class="s10">append</span><span class="s2">(</span><span class="s4">messageHtml</span><span class="s2">);</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span></span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#chat-box'</span><span class="s2">).</span><span class="s10">scrollTop</span><span class="s2">(</span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#chat-box'</span><span class="s2">)[</span><span class="s9">0</span><span class="s2">].</span><span class="s4">scrollHeight</span><span class="s2">);</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p9"><span class="s3"><span class="Apple-converted-space">            </span></span><span class="s6">function</span><span class="s3"> </span><span class="s2">simulateTypingEffect</span><span class="s3">(</span><span class="s4">text</span><span class="s3">, </span><span class="s4">callback</span><span class="s3">) {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span></span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#typing-indicator'</span><span class="s2">).</span><span class="s10">show</span><span class="s2">();</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span></span><span class="s6">let</span><span class="s2"> </span><span class="s4">index</span><span class="s2"> </span><span class="s8">=</span><span class="s2"> </span><span class="s9">0</span><span class="s2">;</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">                </span></span><span class="s6">let</span><span class="s3"> </span><span class="s4">typingText</span><span class="s3"> </span><span class="s8">=</span><span class="s3"> </span><span class="s10">$</span><span class="s3">(</span><span class="s2">'&lt;div class="chat-message bot"&gt;&lt;span class="bot"&gt;bot:&lt;/span&gt; &lt;span class="typing-text"&gt;&lt;/span&gt;&lt;/div&gt;'</span><span class="s3">);</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span></span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#chat-box'</span><span class="s2">).</span><span class="s10">append</span><span class="s2">(</span><span class="s4">typingText</span><span class="s2">);</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span></span><span class="s6">function</span><span class="s2"> </span><span class="s10">typeNextChar</span><span class="s2">() {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span></span><span class="s13">if</span><span class="s2"> (</span><span class="s4">index</span><span class="s2"> </span><span class="s8">&lt;</span><span class="s2"> </span><span class="s4">text</span><span class="s2">.</span><span class="s4">length</span><span class="s2">) {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                        </span></span><span class="s4">typingText</span><span class="s2">.</span><span class="s10">find</span><span class="s2">(</span><span class="s5">'.typing-text'</span><span class="s2">).</span><span class="s10">append</span><span class="s2">(</span><span class="s4">text</span><span class="s2">.</span><span class="s10">charAt</span><span class="s2">(</span><span class="s4">index</span><span class="s2">) </span><span class="s8">===</span><span class="s2"> </span><span class="s5">'</span><span class="s6">\n</span><span class="s5">'</span><span class="s2"> </span><span class="s8">?</span><span class="s2"> </span><span class="s5">'&lt;br&gt;'</span><span class="s2"> </span><span class="s8">:</span><span class="s2"> (</span><span class="s4">text</span><span class="s2">.</span><span class="s10">charAt</span><span class="s2">(</span><span class="s4">index</span><span class="s2">) </span><span class="s8">===</span><span class="s2"> </span><span class="s5">' '</span><span class="s2"> </span><span class="s8">?</span><span class="s2"> </span><span class="s5">'&amp;nbsp;'</span><span class="s2"> </span><span class="s8">:</span><span class="s2"> </span><span class="s4">text</span><span class="s2">.</span><span class="s10">charAt</span><span class="s2">(</span><span class="s4">index</span><span class="s2">)));</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                        </span></span><span class="s4">index</span><span class="s8">++</span><span class="s2">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                        </span></span><span class="s10">setTimeout</span><span class="s2">(</span><span class="s4">typeNextChar</span><span class="s2">, </span><span class="s9">10</span><span class="s2">);</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span>} </span><span class="s13">else</span><span class="s2"> {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                        </span></span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#typing-indicator'</span><span class="s2">).</span><span class="s10">hide</span><span class="s2">();</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                        </span></span><span class="s10">callback</span><span class="s2">();</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span></span><span class="s10">typeNextChar</span><span class="s2">();</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#send-btn'</span><span class="s2">).</span><span class="s10">off</span><span class="s2">(</span><span class="s5">'click'</span><span class="s2">).</span><span class="s10">click</span><span class="s2">(</span><span class="s6">function</span><span class="s2"> () {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span></span><span class="s6">const</span><span class="s2"> </span><span class="s4">userInput</span><span class="s2"> </span><span class="s8">=</span><span class="s2"> </span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#user-input'</span><span class="s2">).</span><span class="s10">val</span><span class="s2">().</span><span class="s10">trim</span><span class="s2">();</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span></span><span class="s13">if</span><span class="s2"> (</span><span class="s4">userInput</span><span class="s2">) {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span></span><span class="s10">appendMessage</span><span class="s2">(</span><span class="s5">'user'</span><span class="s2">, </span><span class="s4">userInput</span><span class="s2">);</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span></span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#user-input'</span><span class="s2">).</span><span class="s10">val</span><span class="s2">(</span><span class="s5">''</span><span class="s2">);</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p8"><span class="s3"><span class="Apple-converted-space">                    </span></span><span class="s2">// Send user prompt to the server</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span></span><span class="s4">$</span><span class="s2">.</span><span class="s10">ajax</span><span class="s2">({</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                        </span></span><span class="s4">url:</span><span class="s2"> </span><span class="s5">'/chat'</span><span class="s2">,</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                        </span></span><span class="s4">type:</span><span class="s2"> </span><span class="s5">'POST'</span><span class="s2">,</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                        </span></span><span class="s4">contentType:</span><span class="s2"> </span><span class="s5">'application/json'</span><span class="s2">,</span></p>
<p class="p2"><span class="s3"><span class="Apple-converted-space">                        </span></span><span class="s2">data:</span><span class="s3"> </span><span class="s2">JSON</span><span class="s3">.</span><span class="s10">stringify</span><span class="s3">({ </span><span class="s2">prompt:</span><span class="s3"> </span><span class="s2">userInput</span><span class="s3">, </span><span class="s2">history:</span><span class="s3"> </span><span class="s2">chatHistory</span><span class="s3"> }),</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                        </span></span><span class="s10">success</span><span class="s4">:</span><span class="s2"> </span><span class="s6">function</span><span class="s2"> (</span><span class="s4">response</span><span class="s2">) {</span></p>
<p class="p2"><span class="s3"><span class="Apple-converted-space">                            </span></span><span class="s2">chatHistory</span><span class="s3">.</span><span class="s10">push</span><span class="s3">({ </span><span class="s2">user:</span><span class="s3"> </span><span class="s2">userInput</span><span class="s3">, </span><span class="s2">bot:</span><span class="s3"> </span><span class="s2">response</span><span class="s3">.</span><span class="s2">response</span><span class="s3"> });</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                            </span></span><span class="s10">simulateTypingEffect</span><span class="s2">(</span><span class="s4">response</span><span class="s2">.</span><span class="s4">response</span><span class="s2">, </span><span class="s6">function</span><span class="s2">() {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span></span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#chat-box'</span><span class="s2">).</span><span class="s10">scrollTop</span><span class="s2">(</span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#chat-box'</span><span class="s2">)[</span><span class="s9">0</span><span class="s2">].</span><span class="s4">scrollHeight</span><span class="s2">);</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                        </span>},</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                        </span></span><span class="s10">error</span><span class="s4">:</span><span class="s2"> </span><span class="s6">function</span><span class="s2"> () {</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">                            </span></span><span class="s10">appendMessage</span><span class="s3">(</span><span class="s2">'bot'</span><span class="s3">, </span><span class="s2">'Sorry, something went wrong.'</span><span class="s3">);</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                        </span>}</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span>});</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#upload-btn'</span><span class="s2">).</span><span class="s10">click</span><span class="s2">(</span><span class="s6">function</span><span class="s2"> () {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span></span><span class="s6">const</span><span class="s2"> </span><span class="s4">fileInput</span><span class="s2"> </span><span class="s8">=</span><span class="s2"> </span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#pdf-upload'</span><span class="s2">)[</span><span class="s9">0</span><span class="s2">];</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span></span><span class="s13">if</span><span class="s2"> (</span><span class="s4">fileInput</span><span class="s2">.</span><span class="s4">files</span><span class="s2">.</span><span class="s4">length</span><span class="s2"> </span><span class="s8">===</span><span class="s2"> </span><span class="s9">0</span><span class="s2">) {</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">                    </span></span><span class="s10">alert</span><span class="s3">(</span><span class="s2">'Please select a PDF file to upload.'</span><span class="s3">);</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span></span><span class="s13">return</span><span class="s2">;</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span></span><span class="s6">const</span><span class="s2"> </span><span class="s4">formData</span><span class="s2"> </span><span class="s8">=</span><span class="s2"> </span><span class="s6">new</span><span class="s2"> </span><span class="s10">FormData</span><span class="s2">();</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span></span><span class="s4">formData</span><span class="s2">.</span><span class="s10">append</span><span class="s2">(</span><span class="s5">'pdf'</span><span class="s2">, </span><span class="s4">fileInput</span><span class="s2">.</span><span class="s4">files</span><span class="s2">[</span><span class="s9">0</span><span class="s2">]);</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span></span><span class="s4">$</span><span class="s2">.</span><span class="s10">ajax</span><span class="s2">({</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span></span><span class="s4">url:</span><span class="s2"> </span><span class="s5">'/upload'</span><span class="s2">,</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span></span><span class="s4">type:</span><span class="s2"> </span><span class="s5">'POST'</span><span class="s2">,</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span></span><span class="s4">data:</span><span class="s2"> </span><span class="s4">formData</span><span class="s2">,</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span></span><span class="s4">processData:</span><span class="s2"> </span><span class="s6">false</span><span class="s2">,</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span></span><span class="s4">contentType:</span><span class="s2"> </span><span class="s6">false</span><span class="s2">,</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span></span><span class="s10">success</span><span class="s4">:</span><span class="s2"> </span><span class="s6">function</span><span class="s2"> (</span><span class="s4">response</span><span class="s2">) {</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">                        </span></span><span class="s10">alert</span><span class="s3">(</span><span class="s2">'PDF uploaded successfully!'</span><span class="s3">);</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span>},</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span></span><span class="s10">error</span><span class="s4">:</span><span class="s2"> </span><span class="s6">function</span><span class="s2"> () {</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">                        </span></span><span class="s10">alert</span><span class="s3">(</span><span class="s2">'Failed to upload PDF. Please try again.'</span><span class="s3">);</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#remove-btn'</span><span class="s2">).</span><span class="s10">click</span><span class="s2">(</span><span class="s6">function</span><span class="s2"> () {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span></span><span class="s4">$</span><span class="s2">.</span><span class="s10">ajax</span><span class="s2">({</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span></span><span class="s4">url:</span><span class="s2"> </span><span class="s5">'/remove'</span><span class="s2">,</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span></span><span class="s4">type:</span><span class="s2"> </span><span class="s5">'POST'</span><span class="s2">,</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span></span><span class="s10">success</span><span class="s4">:</span><span class="s2"> </span><span class="s6">function</span><span class="s2"> (</span><span class="s4">response</span><span class="s2">) {</span></p>
<p class="p8"><span class="s3"><span class="Apple-converted-space">                        </span></span><span class="s6">delete</span><span class="s3"> </span><span class="s4">chatHistory</span><span class="s3">.</span><span class="s4">pdfContent</span><span class="s3">; </span><span class="s2">// Ensure PDF context is removed from chat history</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                        </span></span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#pdf-upload'</span><span class="s2">).</span><span class="s10">val</span><span class="s2">(</span><span class="s5">''</span><span class="s2">); </span><span class="s14">// remove the file input field</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                        </span></span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#pdf-upload'</span><span class="s2">).</span><span class="s10">prop</span><span class="s2">(</span><span class="s5">'disabled'</span><span class="s2">, </span><span class="s6">false</span><span class="s2">); </span><span class="s14">// Enable file input</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">                        </span></span><span class="s10">alert</span><span class="s3">(</span><span class="s2">'PDF data removed successfully!'</span><span class="s3">);</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span>},</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span></span><span class="s10">error</span><span class="s4">:</span><span class="s2"> </span><span class="s6">function</span><span class="s2"> () {</span></p>
<p class="p3"><span class="s3"><span class="Apple-converted-space">                        </span></span><span class="s10">alert</span><span class="s3">(</span><span class="s2">'Failed to remove PDF data. Please try again.'</span><span class="s3">);</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#clear-chat-btn'</span><span class="s2">).</span><span class="s10">click</span><span class="s2">(</span><span class="s6">function</span><span class="s2"> () {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span></span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#chat-box'</span><span class="s2">).</span><span class="s10">html</span><span class="s2">(</span><span class="s5">''</span><span class="s2">);</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span></span><span class="s4">chatHistory</span><span class="s2"> </span><span class="s8">=</span><span class="s2"> [];</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p7"><span class="s11"></span><br></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span></span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#user-input'</span><span class="s2">).</span><span class="s10">keypress</span><span class="s2">(</span><span class="s6">function</span><span class="s2"> (</span><span class="s4">e</span><span class="s2">) {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span></span><span class="s13">if</span><span class="s2"> (</span><span class="s4">e</span><span class="s2">.</span><span class="s4">which</span><span class="s2"> </span><span class="s8">===</span><span class="s2"> </span><span class="s9">13</span><span class="s2">) {</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                    </span></span><span class="s10">$</span><span class="s2">(</span><span class="s5">'#send-btn'</span><span class="s2">).</span><span class="s10">click</span><span class="s2">();</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">            </span>});</span></p>
<p class="p4"><span class="s2"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p1"><span class="s3"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;/</span><span class="s2">script</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s1">&lt;/</span><span class="s2">body</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s1">&lt;/</span><span class="s2">html</span><span class="s1">&gt;</span></p>
</body>
</html>
